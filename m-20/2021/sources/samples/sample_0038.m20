; Разметка магнитной ленты [1977 Лавров, стр.286,353]
; (2015 Стефанков)
;

:6000			; Команды
;
0 52 0000 0001 0000     ; И:=1
1 00 0000 0000 1000     ; p0: Заполненик нулями массива
1 12 1750 6001 0001     ; [a+1..a+1000]
1 00 6200 0000 1000     ; Заполненик единицами массива
1 12 3720 6003 0001     ; [a+1001..a+2000]
0 50 0041 0000 1750     ; Разметка на нулевом магнитофоне
;0 50 0041 0001 1750     ; Разметка на нулевом магнитофоне
0 70 0001 0000 0000     ; нулевой зоны из 1000 слов (зоны 0)
0 52 0000 0002 0000     ; i:=2
:6010
0 00 6201 0000 6025     ; p1: delta=-2
2 50 0041 0000 2750     ; Разметка i-ой зоны нулями
0 70 1001 0000 0000
2 50 5421 0000 1750     ; Фиктивное чтение i-ой зоны
0 70 0001 6015 6100
0 15 6100 0000 0000     ; p2: Если сумма верна, то
0 36 0000 6032 0000     ;     перейти на p6
2 50 1025 0000 2750     ; Запись в i-ю зону массива нулей
:6020
0 70 1001 0000 0000
2 50 5421 0000 1750     ; Фиктивное чтение
0 70 0001 6025 6100
0 15 6100 0000 0000     ; p3: Если сумма верна, то
0 36 0000 6032 0000     ;     перейти на p6
2 50 7021 6101 1750     ; p4: Фиктивное чтение зоны с
0 70 0001 0000 0000     ; номером i+delta
2 50 0041 7777 1750     ; p5: Разметка зоны с номером i-1
:6030
0 70 0001 0000 0000
0 56 6202 6011 6025     ; delta:=-1
2 50 1025 0000 4720     ; p6: Запись в i-ю зону массива единиц
0 70 2751 0000 0000
2 50 5421 0000 1750     ; Фиктивное чтение
0 70 0001 6037 6100
0 15 6100 6200 0000     ; p7: Если сумма верна, то
0 36 0000 6046 0000     ;     перейти на p9
:6040
2 50 1025 0000 4720     ; Повторная запись массива
0 70 2751 0000 0000     ;  единиц
2 50 5421 0000 1750      ; Фиктивное чтение
0 70 0001 6025 0000
0 15 6100 6200 0000     ; p8: Если сумма неверна, то
0 76 0000 6025 0000     ;     перейти на p4
1 12 0764 6010 0002     ; p9: i:=i+2, если i<=500, но на p1
;
0 77 0000 0000 0000     ; останов

:6100
0 00 0000 0000 0000

:6200
7 77 7777 7777 7777
2 50 7021 7776 1750
2 50 7021 7777 1750
@6000			; Старт
