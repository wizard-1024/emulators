; Программа ввода и умножения элементов квадратных матриц [1969 Геронимус, стр.185-189] 
; (2015 Стефанков)
;

;
:0030
;
0 50 0013 7000 7767     ; Ввод ИС-2
0 70 7500 0030 0000
;
0 00 0101 0000 0065     ; Формирование начального вида команды
;
0 10 0021 0034 0000     ; Ввод ЧК, m и m**2
0 50 0500 0000 0023     ; Печать ЧК,
0 70 0021 0000 0000     ; m и m**2
;
0 72 0000 0021 0000     ; РА := ЧК
0 14 0114 0022 0024     ; Сдвиг m в первый адрес 
0 14 0064 0022 0025     ; Сдвиг m в третий адрес 
0 75 0024 0025 0024     ; Образование константы 0000 m 0000 m
0 13 0102 0025 0026     ; Формирование строки обращения к СП-43
;
0 10 3377 0044 0000     ; Ввод комплекта
0 50 0500 0000 3377     ; Печать НК
0 70 3377 0000 0000
;
4 52 0000 0000 0076     ; Запоминание РА
0 72 0000 0023 0000     ; РА := m**2
;
1 50 0100 0000 3377     ; Печать А
0 70 3400 0000 0000     ; (без интервалов между строками)
1 50 0100 0000 0177     ; Печать B
0 70 0200 0000 0000     ; (без интервалов между строками)
;
0 16 0055 7501 7610     ; Перевод А в двоичную систему
1 52 3400 0042 3377     ; (СП 42)
0 16 0057 7501 7610     ; Перевод B в двоичную систему
1 52 0200 0042 0177     ; (СП 42)
;
0 72 0000 0022 0000     ; РА := m
;
0 16 0062 7501 7610     ; Вычисление произведения матриц
0 52 3400 0036 0200     ; C = A x B
1 52 3300 0000 0000     ; (СП 36)
;
0 72 0000 0023 0000     ; РА := m**2
;
;1 50 0024 0000 3277     ; Вывод С на МЛ в зоны 0,1,,,,
;0 70 3300 0000 0000
0 00 0000 0000 0000
0 00 0000 0000 0000
;
0 00 0026 0000 0072     ; Восстановление строки обращения к СП-0043
0 72 0000 0022 0000     ; РА := m
;
0 16 0072 7501 7610     ; Печать строки матрицы C
0 52 3300 0043 3277
0 13 0072 0024 0072     ; Переход к печати новой строки
1 32 0002 0071 7777     ; Все ли строки напечатаны?
;
0 13 0065 0103 0065     ; N зоны ;= N зоны + 1
0 00 0000 0000 0000     ; Восстановление РА
;
1 32 0002 0043 7777     ; Все ли комлекты переработаны?
;
0 77 0000 0000 0000 	; Останов
;
1 50 0024 0000 3277     ; Константы
0 52 3300 0043 3277
0 00 0000 0001 0000

@0030			; Старт
